<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>图表</title>
    <script type="text/javascript" src="/js/echarts.min.js" ></script>
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <link rel="stylesheet" href="/styeCss/base.css" />
</head>
<body>
<div class="ex">
    <h1 color="red" align="left">数据统计</h1>
    <div class="dataTotal" >
        <b class="totalvalue">48</b><b class="totalordinaryvalue">班级 &nbsp;&nbsp;&nbsp;</b>
        <b class="totalvalue">2680</b><b class="s">学生 &nbsp;&nbsp;&nbsp;</b>
        <b class="totalvalue">6</b><b class="totalordinaryvalue">体育老师 &nbsp;&nbsp;&nbsp;</b>
    </div>

    <br />
    <div class="dataJs">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <label for="start"><b>从：</b>&nbsp;&nbsp;</label><input id="start" type="date" value="2014-01-13"/>
        &nbsp;&nbsp;&nbsp;&nbsp;<label for="end"><b>至：</b>&nbsp;&nbsp;</label><input id="end" type="date" value="2014-01-13"/>
    </div>

    <div class="TotalTrainDate">
        <br />
         <div class="boxscroll"><b>学生体育课程平均完成率</b></div>
          <div class="totalValue">
            <b class="totalvalue">&nbsp;&nbsp;20 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>
            <b class="totalvalue">400 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>
            <b class="totalvalue">60%  </b>
          </div>
          <div class="boxscroll2">
                <b>课程总次数 </b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <b>总分钟/分钟 </b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <b>平均完成率</b>
          </div>
    </div>

   <div class="TotalTableDate">
       <br />
        <div class="boxscroll"><b>学生体育作业平均完成率</b></div>
        <div class="totalValue">
            <b class="totalvalue">&nbsp;&nbsp;50 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>
            <b class="totalvalue">900 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>
            <b class="totalvalue">90%  </b>
        </div>
        <div class="boxscroll2">
            <b>作业总次数 </b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <b>总分钟/分钟 </b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <b>平均完成率</b>
        </div>
    </div>
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <h1 align="left">本周</h1>
    <div class="StudentWeekRate" id="StudentWeekRate">
        <br />
        <div class="boxscroll"><b>学生体育课程平均完成率</b></div>

    </div>
    <div class="StudentTableWeekRate" id="StudentTableWeekRate">
        <br />
        <div class="boxscroll"><b>学生体育作业平均完成率</b></div>

    </div>

    <!--各年级体育课程平均完成率-->
    <div class="gradeWeekRate" id="gradeWeekRate">
        <br />
        <div class="boxscroll"><b>各年级体育课程平均完成率</b></div>

    </div>
    <div class="gradeTableWeekRate" id="gradeTableWeekRate">
        <br />
        <div class="boxscroll"><b>各年级体育作业平均完成率</b></div>

    </div>

    <!--各班级体育课程平均完成率-->
    <div class="classWeekRate" id="classWeekRate">
        <br />
        <div class="boxscroll"><b>各班级体育课程平均完成率</b></div>

    </div>
    <div class="classTableWeekRate" id="classTableWeekRate">
        <br />
        <div class="boxscroll"><b>各班级体育课程平均完成率</b></div>

    </div>

    <!--<div class="div1" id="main" style="width: 300px;height:250px;"></div>-->
</div>



</body>
<script type="text/javascript">
    $(document).ready(function(){
        $.ajax({
            type : "post",
            async : true,            //异步请求（同步请求将会锁住浏览器，用户其他操作必须等待请求完成才可以执行）
            url : "/admines/EcharsShow",    //请求发送到dataActiont处
            data : {},
            dataType : "json",        //返回数据形式为json
            success : function(result) {
                //请求成功时执行该函数内容，result即为服务器返回的json对象
                if (result["echarsList"]) {
                    // 基于准备好的dom，初始化echarts实例
                    var myChart = echarts.init(document.getElementById('gradeWeekRate'));
                    //数据加载完之前先显示一段简单的loading动画
                    myChart.showLoading();
                    var names=[];    //横坐标数组（实际用来盛放X轴坐标值）
                    var values=[];    //纵坐标数组（实际用来盛放Y坐标值）
                    var echarsList = result["echarsList"];
                    for(var i=0;i<echarsList.length;i++){
                        names.push(echarsList[i].name);
                        values.push(echarsList[i].num);
                    }
                    myChart.hideLoading();    //隐藏加载动画
                    myChart.setOption({        //加载数据图表
                        title: {
                            text : '各年级体育课程平均完成率'
                        },
                        tooltip: {},
                        xAxis: {
                            data: names
                        },
                        yAxis: {
                            type: 'value'
                        },
                        series: [{
                            // 根据名字对应到相应的系列
                            name: '數量',//薪资 series not exists. Legend data should be same with series name or data name.
                            type: 'bar',
                            data: values
                        }]
                    });

                   /* var tabChart = echarts.init(document.getElementById('gradeTableWeekRate'));
                    //数据加载完之前先显示一段简单的loading动画
                    tabChart.showLoading();
                    var tabnames=[];    //横坐标数组（实际用来盛放X轴坐标值）
                    var tabvalues=[];    //纵坐标数组（实际用来盛放Y坐标值）
                    var tabList = result["listTable"];
                    for(var i=0;i<tabList.length;i++){
                        tabnames.push(tabList[i].name);
                        tabvalues.push(tabList[i].num);
                    }
                    tabChart.hideLoading();    //隐藏加载动画
                    tabChart.setOption({        //加载数据图表
                        title: {
                            text : '各年级体育课程平均完成率'
                        },
                        tooltip: {},
                        xAxis: {
                            data: tabnames
                        },
                        yAxis: {
                            type: 'value'
                        },
                        series: [{
                            // 根据名字对应到相应的系列
                            name: '數量',//薪资 series not exists. Legend data should be same with series name or data name.
                            type: 'bar',
                            data: tabvalues
                        }]
                    });*/

                }
            },
            error : function(errorMsg) {
                //请求失败时执行该函数
                alert("图表请求数据失败!");
                myChart.hideLoading();
            }
        });//end ajax


    });

</script>
</html>