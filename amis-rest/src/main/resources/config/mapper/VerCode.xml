<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.amis.dao.PhoneCodeDao" >

    <insert id="insertPhoneCode" >
        insert into  tab_phoneCode(
          p_phone,
          p_verCode)
        values (
          #{p_phone},
          #{p_verCode})
    </insert>
    
    <select id="selectPhoneCode" resultType="com.amis.entity.PhoneCode">
        SELECT
          p_id,
          p_phone,
          p_verCode
        FROM tab_phoneCode
        WHERE p_phone = #{p_phone} AND p_verCode =#{p_verCode}
    </select>

    <delete id="deletePhoneCode">
        delete from tab_phoneCode
        where p_id=#{p_id}
    </delete>

    <delete id="deletePhoneAndCode">
        delete from tab_phoneCode
        where p_phone=#{p_phone} AND p_verCode=#{p_verCode}
    </delete>

</mapper>